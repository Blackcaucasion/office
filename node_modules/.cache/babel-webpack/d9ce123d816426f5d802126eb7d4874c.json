{"ast":null,"code":"import { OfficeDialogComponent } from './office-dialog/office-dialog.component';\nimport { AddOfficeComponent } from './add-office/add-office.component';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../shared/office.service\";\nimport * as i3 from \"@angular/material/toolbar\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/material/card\";\nimport * as i8 from \"@angular/material/icon\";\n\nfunction HomeComponent_ng_container_6_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 6);\n    i0.ɵɵelementStart(1, \"mat-card\");\n    i0.ɵɵelementStart(2, \"span\", 7);\n    i0.ɵɵelementStart(3, \"mat-icon\");\n    i0.ɵɵtext(4, \"people_alt\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵtext(6, \" 04/20 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵelementStart(8, \"div\");\n    i0.ɵɵelementStart(9, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_6_li_2_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const office_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return ctx_r3.openAlertDialog(office_r2.id);\n    });\n    i0.ɵɵelementStart(10, \"mat-icon\");\n    i0.ɵɵtext(11, \"more_vert\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const office_r2 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/office/\", office_r2.id, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", office_r2.name, \" \");\n  }\n}\n\nfunction HomeComponent_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ul\", 4);\n    i0.ɵɵtemplate(2, HomeComponent_ng_container_6_li_2_Template, 12, 2, \"li\", 5);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(3, 1, ctx_r0.offices$));\n  }\n}\n\nexport class HomeComponent {\n  constructor(dialog, officeservice, changeDetectionRef) {\n    this.dialog = dialog;\n    this.officeservice = officeservice;\n    this.changeDetectionRef = changeDetectionRef;\n    this.subscriptions = new Subscription();\n    this.officeList = [];\n    this.offices$ = new BehaviorSubject(this.officeList);\n  }\n\n  ngOnInit() {\n    this.officeservice.getOffices().subscribe(data => data.map(acttions => {\n      var _a;\n\n      const value = acttions.payload.doc.data();\n      value.id = acttions.payload.doc.id;\n      this.officeList.push(value);\n      (_a = this.offices$) === null || _a === void 0 ? void 0 : _a.next(this.officeList);\n      this.changeDetectionRef.detectChanges();\n    }));\n  }\n\n  openAlertDialog(id) {\n    this.dialog.open(OfficeDialogComponent, {\n      width: '250px',\n      height: '100px',\n      data: {\n        key: id\n      }\n    });\n  }\n\n  addOffice() {\n    this.dialog.open(AddOfficeComponent, {});\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n    this.offices$.subscribe();\n  }\n\n}\n\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.OfficeService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\n\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 8,\n  vars: 3,\n  consts: [[\"color\", \"primary\"], [1, \"spacer\"], [\"mat-flat-button\", \"\", 3, \"click\"], [4, \"ngIf\"], [1, \"offices\"], [3, \"routerLink\", 4, \"ngFor\", \"ngForOf\"], [3, \"routerLink\"], [1, \"badge\"], [\"mat-icon-button\", \"\", 1, \"menu\", 3, \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-toolbar\", 0);\n      i0.ɵɵelementStart(1, \"span\");\n      i0.ɵɵtext(2, \"Office Man\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"span\", 1);\n      i0.ɵɵelementStart(4, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_4_listener() {\n        return ctx.addOffice();\n      });\n      i0.ɵɵtext(5, \"Add Office\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, HomeComponent_ng_container_6_Template, 4, 3, \"ng-container\", 3);\n      i0.ɵɵpipe(7, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(7, 1, ctx.offices$));\n    }\n  },\n  directives: [i3.MatToolbar, i4.MatButton, i5.NgIf, i5.NgForOf, i6.RouterLink, i7.MatCard, i8.MatIcon],\n  pipes: [i5.AsyncPipe],\n  styles: [\".spacer[_ngcontent-%COMP%]{\\r\\n    flex:1 1 auto;\\r\\n\\r\\n}\\r\\n\\r\\n.menu[_ngcontent-%COMP%]{\\r\\n  position: absolute;\\r\\n  top: 8px;\\r\\n  right: 16px;\\r\\n  font-size: 18px;\\r\\n}\\r\\n\\r\\n.mat-toolbar.mat-primary[_ngcontent-%COMP%] {\\r\\n    position: sticky;\\r\\n    top: 0;\\r\\n    z-index: 1;\\r\\n  }\\r\\n\\r\\n.offices[_ngcontent-%COMP%]{\\r\\n    list-style-type: none;\\r\\n  }\\r\\n\\r\\n.offices[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%] {\\r\\n    \\r\\n    \\r\\n    \\r\\n    \\r\\n  \\r\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7O0FBRWpCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixXQUFXO0VBQ1gsZUFBZTtBQUNqQjs7QUFDQTtJQUNJLGdCQUFnQjtJQUNoQixNQUFNO0lBQ04sVUFBVTtFQUNaOztBQUNBO0lBQ0UscUJBQXFCO0VBQ3ZCOztBQUNBO0lBQ0Usc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixrQ0FBa0M7SUFDbEMsOEJBQThCOztFQUVoQyIsImZpbGUiOiJob21lLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc3BhY2Vye1xyXG4gICAgZmxleDoxIDEgYXV0bztcclxuXHJcbn1cclxuXHJcbi5tZW51e1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDhweDtcclxuICByaWdodDogMTZweDtcclxuICBmb250LXNpemU6IDE4cHg7XHJcbn1cclxuLm1hdC10b29sYmFyLm1hdC1wcmltYXJ5IHtcclxuICAgIHBvc2l0aW9uOiBzdGlja3k7XHJcbiAgICB0b3A6IDA7XHJcbiAgICB6LWluZGV4OiAxO1xyXG4gIH1cclxuICAub2ZmaWNlc3tcclxuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcclxuICB9XHJcbiAgLm9mZmljZXMgLmJhZGdlIHtcclxuICAgIC8qIGZvbnQtc2l6ZTogc21hbGw7ICovXHJcbiAgICAvKiBjb2xvcjogd2hpdGU7ICovXHJcbiAgICAvKiBwYWRkaW5nOiAwLjhlbSAwLjdlbSAwIDAuN2VtOyAqL1xyXG4gICAgLyogYmFja2dyb3VuZC1jb2xvcjojM2E3Y2MzOyAqL1xyXG4gIFxyXG4gIH0iXX0= */\"],\n  changeDetection: 0\n});","map":{"version":3,"sources":["C:\\Users\\Luntu\\Documents\\staffManager\\staffManager\\src\\app\\home\\home.component.ts","C:\\Users\\Luntu\\Documents\\staffManager\\staffManager\\src\\app\\home\\home.component.html"],"names":[],"mappings":"AAEA,SAAS,qBAAT,QAAsC,yCAAtC;AACA,SAAS,kBAAT,QAAmC,mCAAnC;AACA,SAAS,eAAT,EAA0C,YAA1C,QAA8D,MAA9D;;;;;;;;;;;;;;;ACGQ,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,IAAA,EAAA,CAAA;AACI,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,UAAA;AACI,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,MAAA,EAAA,CAAA;AACI,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,UAAA;AAAU,IAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,YAAA;AAAU,IAAA,EAAA,CAAA,YAAA;AACpB,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,IAAA;AACA,IAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,SAAA;AACJ,IAAA,EAAA,CAAA,YAAA;AACA,IAAA,EAAA,CAAA,MAAA,CAAA,CAAA;AACA,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA;AACI,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,QAAA,EAAA,CAAA;AAAqC,IAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,kEAAA,GAAA;AAAA,YAAA,WAAA,GAAA,EAAA,CAAA,aAAA,CAAA,GAAA,CAAA;AAAA,YAAA,SAAA,GAAA,WAAA,CAAA,SAAA;AAAA,YAAA,MAAA,GAAA,EAAA,CAAA,aAAA,CAAA,CAAA,CAAA;AAAA,aAAA,MAAA,CAAA,eAAA,CAAA,SAAA,CAAA,EAAA,CAAA;AAAA,KAAA;AACjC,IAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,UAAA;AAAU,IAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,WAAA;AAAS,IAAA,EAAA,CAAA,YAAA;AACvB,IAAA,EAAA,CAAA,YAAA;AACJ,IAAA,EAAA,CAAA,YAAA;AACJ,IAAA,EAAA,CAAA,YAAA;AAEJ,IAAA,EAAA,CAAA,YAAA;;;;;AAf+C,IAAA,EAAA,CAAA,sBAAA,CAAA,YAAA,EAAA,UAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA;AAOvC,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,IAAA,EAAA,CAAA,kBAAA,CAAA,GAAA,EAAA,SAAA,CAAA,IAAA,EAAA,GAAA;;;;;;AAThB,IAAA,EAAA,CAAA,uBAAA,CAAA,CAAA;AACI,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,IAAA,EAAA,CAAA;AACI,IAAA,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,0CAAA,EAAA,EAAA,EAAA,CAAA,EAAA,IAAA,EAAA,CAAA;;AAkBJ,IAAA,EAAA,CAAA,YAAA;AACJ,IAAA,EAAA,CAAA,qBAAA;;;;;AAnB+B,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,IAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,EAAA,CAAA,WAAA,CAAA,CAAA,EAAA,CAAA,EAAA,MAAA,CAAA,QAAA,CAAA;;;;ADS/B,OAAM,MAAO,aAAP,CAAoB;AAQxB,EAAA,WAAA,CAAmB,MAAnB,EACQ,aADR,EAGiB,kBAHjB,EAGsD;AAHnC,SAAA,MAAA,GAAA,MAAA;AACX,SAAA,aAAA,GAAA,aAAA;AAES,SAAA,kBAAA,GAAA,kBAAA;AATA,SAAA,aAAA,GAA8B,IAAI,YAAJ,EAA9B;AAEV,SAAA,UAAA,GAA4B,EAA5B;AAEA,SAAA,QAAA,GAAsC,IAAI,eAAJ,CAA8B,KAAK,UAAnC,CAAtC;AAMF;;AAGE,EAAA,QAAQ,GAAA;AACX,SAAK,aAAL,CAAmB,UAAnB,GAAgC,SAAhC,CAA0C,IAAI,IAC5C,IAAI,CAAC,GAAL,CAAS,QAAQ,IAAG;;;AAClB,YAAM,KAAK,GAAG,QAAQ,CAAC,OAAT,CAAiB,GAAjB,CAAqB,IAArB,EAAd;AACA,MAAA,KAAK,CAAC,EAAN,GAAU,QAAQ,CAAC,OAAT,CAAiB,GAAjB,CAAqB,EAA/B;AAEA,WAAK,UAAL,CAAgB,IAAhB,CAAqB,KAArB;AACO,OAAA,EAAA,GAAA,KAAK,QAAL,MAAa,IAAb,IAAa,EAAA,KAAA,KAAA,CAAb,GAAa,KAAA,CAAb,GAAa,EAAA,CAAE,IAAF,CAAO,KAAK,UAAZ,CAAb;AACA,WAAK,kBAAL,CAAwB,aAAxB;AAEP,KARF,CADF;AAaH;;AAGD,EAAA,eAAe,CAAC,EAAD,EAAO;AACrB,SAAK,MAAL,CAAY,IAAZ,CAAiB,qBAAjB,EAAuC;AACpC,MAAA,KAAK,EAAE,OAD6B;AAEpC,MAAA,MAAM,EAAC,OAF6B;AAGpC,MAAA,IAAI,EAAC;AAAC,QAAA,GAAG,EAAC;AAAL;AAH+B,KAAvC;AAMA;;AAEM,EAAA,SAAS,GAAA;AACd,SAAK,MAAL,CAAY,IAAZ,CAAiB,kBAAjB,EAAoC,EAApC;AAIH;;AACM,EAAA,WAAW,GAAA;AAClB,SAAK,aAAL,CAAmB,WAAnB;AACA,SAAK,QAAL,CAAc,SAAd;AACC;;AAlDyB;;;mBAAb,a,EAAa,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,SAAA,C,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,aAAA,C,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,iBAAA,C;AAAA,C;;;QAAb,a;AAAa,EAAA,SAAA,EAAA,CAAA,CAAA,UAAA,CAAA,C;AAAA,EAAA,KAAA,EAAA,C;AAAA,EAAA,IAAA,EAAA,C;AAAA,EAAA,MAAA,EAAA,CAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,CAAA,CAAA,EAAA,QAAA,CAAA,EAAA,CAAA,iBAAA,EAAA,EAAA,EAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,SAAA,CAAA,EAAA,CAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,OAAA,EAAA,SAAA,CAAA,EAAA,CAAA,CAAA,EAAA,YAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,iBAAA,EAAA,EAAA,EAAA,CAAA,EAAA,MAAA,EAAA,CAAA,EAAA,OAAA,CAAA,C;AAAA,EAAA,QAAA,EAAA,SAAA,sBAAA,CAAA,EAAA,EAAA,GAAA,EAAA;AAAA,QAAA,EAAA,GAAA,CAAA,EAAA;AChB1B,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,aAAA,EAAA,CAAA;AACI,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,MAAA;AAAM,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,YAAA;AAAU,MAAA,EAAA,CAAA,YAAA;AAChB,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,MAAA,EAAA,CAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,QAAA,EAAA,CAAA;AAAwB,MAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,8CAAA,GAAA;AAAA,eAAW,GAAA,CAAA,SAAA,EAAX;AAAsB,OAAtB;AAAuB,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,YAAA;AAAU,MAAA,EAAA,CAAA,YAAA;AAC7D,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,qCAAA,EAAA,CAAA,EAAA,CAAA,EAAA,cAAA,EAAA,CAAA;;;;;AAAe,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,EAAA,CAAA,WAAA,CAAA,CAAA,EAAA,CAAA,EAAA,GAAA,CAAA,QAAA,CAAA","sourcesContent":["import { Component, OnInit, ChangeDetectorRef, ChangeDetectionStrategy, OnDestroy } from '@angular/core';\nimport {MatDialog,} from '@angular/material/dialog';\nimport { OfficeDialogComponent } from './office-dialog/office-dialog.component';\nimport { AddOfficeComponent } from './add-office/add-office.component';\nimport { BehaviorSubject, Observable, of, Subscription } from 'rxjs';\nimport { Office } from 'src/models/staff.models';\nimport { OfficeService } from '../shared/office.service';\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class HomeComponent implements OnInit ,OnDestroy {\n\n  private readonly subscriptions: Subscription = new Subscription();\n\n  public officeList: Array<Office> = [];\n\n  public offices$: BehaviorSubject<Office[]> = new BehaviorSubject<Office[]>(this.officeList) ;\n\n  constructor(public dialog:MatDialog,\n  public  officeservice:OfficeService,\n  \n  private readonly changeDetectionRef: ChangeDetectorRef,\n  ) { }\n    \n    \n  public ngOnInit(): void {\n      this.officeservice.getOffices().subscribe(data =>\n        data.map(acttions => {\n          const value = acttions.payload.doc.data() as Office\n          value.id =acttions.payload.doc.id;\n     \n          this.officeList.push(value)\n                 this.offices$?.next(this.officeList)\n                 this.changeDetectionRef.detectChanges();\n\n         }\n   \n         ))\n      \n  }\n\n\n  openAlertDialog(id:any) {\n   this.dialog.open(OfficeDialogComponent,{\n      width: '250px',\n      height:'100px'\n      data:{key:id   },\n    });\n\n  }\n\n  public addOffice(){\n    this.dialog.open(AddOfficeComponent,{\n\n    })\n\n}\npublic ngOnDestroy(): void {\nthis.subscriptions.unsubscribe()\nthis.offices$.subscribe()\n}\n\n}\n","<mat-toolbar color=\"primary\">\n    <span>Office Man</span>\n    <span class=\"spacer\"></span>\n    <button mat-flat-button (click)=\" addOffice()\">Add Office</button>\n</mat-toolbar>\n<ng-container *ngIf=\"(offices$|async)\">\n    <ul class=\"offices\">\n        <li *ngFor=\"let office of (offices$|async) ;\"  routerLink=\"/office/{{office.id}}\">\n            <mat-card>\n                <span class=\"badge\">\n                    <mat-icon>people_alt</mat-icon>\n                    <br>\n                    04/20\n                </span>\n                {{office.name}}\n                <div>\n                    <button mat-icon-button class=\"menu\" (click)=\"openAlertDialog(office.id)\">\n                        <mat-icon>more_vert</mat-icon>\n                    </button>\n                </div>\n            </mat-card>\n\n        </li>\n\n\n    </ul>\n</ng-container>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}